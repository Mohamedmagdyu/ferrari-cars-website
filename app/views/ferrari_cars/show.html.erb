<div class="min-h-screen" style="background: linear-gradient(180deg, hsl(var(--color-surface)) 0%, hsl(var(--color-surface-elevated)) 100%);">
  
  <!-- Back Button -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-8">
    <%= link_to ferrari_cars_path, class: "inline-flex items-center gap-2 text-sm font-medium transition-colors hover:opacity-70", style: "color: hsl(var(--color-text-secondary));" do %>
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
      </svg>
      <span>العودة إلى المجموعة</span>
    <% end %>
  </div>

  <!-- Car Details Section -->
  <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <div class="grid lg:grid-cols-2 gap-12">
      <!-- Car Image -->
      <div class="relative">
        <div class="sticky top-8">
          <div class="aspect-[4/3] rounded-2xl overflow-hidden" style="background: linear-gradient(135deg, hsl(var(--color-surface-luxury)) 0%, hsl(var(--color-text-secondary)) 100%); box-shadow: var(--shadow-xl);">
            <% if @ferrari_car.image.attached? %>
              <%= image_tag @ferrari_car.image, class: "w-full h-full object-cover", alt: @ferrari_car.name %>
            <% else %>
              <div class="w-full h-full flex items-center justify-center">
                <svg class="w-48 h-48 opacity-20" style="color: hsl(var(--color-primary));" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"/>
                </svg>
              </div>
            <% end %>
          </div>
          
          <!-- Status Badge -->
          <div class="absolute top-6 right-6">
            <span class="inline-flex items-center px-4 py-2 rounded-full text-sm font-bold" style="background-color: hsl(var(--color-success-bg)); color: hsl(var(--color-success)); box-shadow: var(--shadow-lg);">
              <%= @ferrari_car.status == 'available' ? 'متوفر' : @ferrari_car.status %>
            </span>
          </div>
        </div>
      </div>

      <!-- Car Information -->
      <div>
        <!-- Header -->
        <div class="mb-8">
          <div class="inline-block px-4 py-2 rounded-full mb-4" style="background-color: hsl(var(--color-primary) / 0.1); border: 1px solid hsl(var(--color-primary) / 0.2);">
            <span class="text-sm font-bold tracking-wider" style="color: hsl(var(--color-primary));"><%= @ferrari_car.category.name %></span>
          </div>
          
          <h1 class="text-5xl md:text-6xl font-black mb-4" style="color: hsl(var(--color-text-primary)); line-height: 1.1;">
            <%= @ferrari_car.name %>
          </h1>
          
          <p class="text-xl mb-6" style="color: hsl(var(--color-text-secondary)); font-weight: 500;">
            <%= @ferrari_car.model %> - <%= @ferrari_car.year %>
          </p>
          
          <div class="text-5xl font-black mb-8" style="color: hsl(var(--color-primary));">
            $<%= number_with_delimiter(@ferrari_car.price.to_i) %>
          </div>
        </div>

        <!-- Description -->
        <div class="mb-8 p-6 rounded-xl" style="background-color: hsl(var(--color-surface-elevated)); border: 1px solid hsl(var(--color-border));">
          <h3 class="text-xl font-bold mb-3" style="color: hsl(var(--color-text-primary));">تم البيع</h3>
          <p class="text-base leading-relaxed" style="color: hsl(var(--color-text-secondary));">
            <%= simple_format(@ferrari_car.description) %>
          </p>
        </div>

        <!-- Technical Specifications -->
        <div class="mb-8 p-6 rounded-xl" style="background-color: hsl(var(--color-surface-elevated)); border: 1px solid hsl(var(--color-border));">
          <h3 class="text-xl font-bold mb-4" style="color: hsl(var(--color-text-primary));">المواصفات التقنية</h3>
          
          <div class="grid grid-cols-2 gap-6">
            <div class="flex items-start gap-3">
              <div class="flex-shrink-0 w-12 h-12 rounded-lg flex items-center justify-center" style="background: linear-gradient(135deg, hsl(var(--color-primary)) 0%, hsl(var(--color-primary-dark)) 100%);">
                <svg class="w-6 h-6" style="color: hsl(0 0% 100%);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                </svg>
              </div>
              <div class="flex-1">
                <div class="text-xs mb-1" style="color: hsl(var(--color-text-muted));">السرعة القصوى</div>
                <div class="text-2xl font-bold" style="color: hsl(var(--color-text-primary));"><%= @ferrari_car.top_speed %> <span class="text-sm font-normal">km/h</span></div>
              </div>
            </div>

            <div class="flex items-start gap-3">
              <div class="flex-shrink-0 w-12 h-12 rounded-lg flex items-center justify-center" style="background: linear-gradient(135deg, hsl(var(--color-primary)) 0%, hsl(var(--color-primary-dark)) 100%);">
                <svg class="w-6 h-6" style="color: hsl(0 0% 100%);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
              </div>
              <div class="flex-1">
                <div class="text-xs mb-1" style="color: hsl(var(--color-text-muted));">التسارع 0-100</div>
                <div class="text-2xl font-bold" style="color: hsl(var(--color-text-primary));"><%= @ferrari_car.acceleration %> <span class="text-sm font-normal">ثانية</span></div>
              </div>
            </div>

            <div class="flex items-start gap-3">
              <div class="flex-shrink-0 w-12 h-12 rounded-lg flex items-center justify-center" style="background: linear-gradient(135deg, hsl(var(--color-primary)) 0%, hsl(var(--color-primary-dark)) 100%);">
                <svg class="w-6 h-6" style="color: hsl(0 0% 100%);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/>
                </svg>
              </div>
              <div class="flex-1">
                <div class="text-xs mb-1" style="color: hsl(var(--color-text-muted));">نوع المحرك</div>
                <div class="text-lg font-bold" style="color: hsl(var(--color-text-primary));"><%= @ferrari_car.engine %></div>
              </div>
            </div>

            <div class="flex items-start gap-3">
              <div class="flex-shrink-0 w-12 h-12 rounded-lg flex items-center justify-center" style="background: linear-gradient(135deg, hsl(var(--color-primary)) 0%, hsl(var(--color-primary-dark)) 100%);">
                <svg class="w-6 h-6" style="color: hsl(0 0% 100%);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                </svg>
              </div>
              <div class="flex-1">
                <div class="text-xs mb-1" style="color: hsl(var(--color-text-muted));">سنة الإنتاج</div>
                <div class="text-2xl font-bold" style="color: hsl(var(--color-text-primary));"><%= @ferrari_car.year %></div>
              </div>
            </div>
          </div>
        </div>

        <!-- CTA Buttons -->
        <div class="flex flex-wrap gap-4">
          <a href="#" class="btn-primary btn-lg flex-1 inline-flex items-center justify-center gap-2" style="min-width: 200px;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
            </svg>
            <span>استفسر الآن</span>
          </a>
          <a href="#" class="btn-outline-primary btn-lg inline-flex items-center gap-2" style="border-width: 2px; min-width: 200px;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
            </svg>
            <span>احجز تجربة قيادة</span>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Related Cars Section -->
  <% if @related_cars.any? %>
    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
      <h2 class="text-3xl font-black mb-8" style="color: hsl(var(--color-text-primary));">سيارات مشابهة</h2>
      
      <div class="grid md:grid-cols-3 gap-8">
        <% @related_cars.each do |car| %>
          <div class="group relative overflow-hidden rounded-2xl transition-all duration-500 hover:scale-[1.02]" style="background-color: hsl(var(--color-surface-elevated)); border: 1px solid hsl(var(--color-border)); box-shadow: var(--shadow-xl);">
            <!-- Car Image -->
            <div class="aspect-[4/3] bg-gradient-to-br overflow-hidden" style="background: linear-gradient(135deg, hsl(var(--color-surface-luxury)) 0%, hsl(var(--color-text-secondary)) 100%);">
              <% if car.image.attached? %>
                <%= image_tag car.image, class: "w-full h-full object-cover transition-transform duration-500 group-hover:scale-110", alt: car.name %>
              <% else %>
                <div class="w-full h-full flex items-center justify-center">
                  <svg class="w-24 h-24 opacity-20" style="color: hsl(var(--color-primary));" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"/>
                  </svg>
                </div>
              <% end %>
            </div>

            <!-- Car Details -->
            <div class="p-6">
              <h3 class="text-xl font-bold mb-1" style="color: hsl(var(--color-text-primary));"><%= car.name %></h3>
              <p class="text-sm mb-4" style="color: hsl(var(--color-text-muted));"><%= car.model %> - <%= car.year %></p>
              
              <div class="flex items-center justify-between">
                <div class="text-2xl font-black" style="color: hsl(var(--color-primary));">$<%= number_with_delimiter(car.price.to_i) %></div>
                <%= link_to ferrari_car_path(car), class: "btn-primary btn-sm inline-flex items-center gap-1" do %>
                  <span>عرض</span>
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                  </svg>
                <% end %>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </section>
  <% end %>

</div>
